5 REM BALLS...A SLIGHTLY MODIFIED VERSION OF
6 REM THE ONE SHOWN IN DAVID'S VIDEO. I HOPE HE DON'T MIND.
10 IFPEEK(217)<>40THENSYS65375
20 PRINT"NUMBER OF BALLS (1-255)?"
30 INPUT N
40 IF N<1 OR N>255 THEN 20
60 PRINT CHR$(147);
70 DIM BX(255):DIM BY(255):DIM BC(255)
75 DIM DX(255):DIM DY(255)
80 FOR B=0TON
90 BX(B)=INT(RND(1)*40)
100 BY(B)=INT(RND(1)*30)
105 BC(B)=INT(RND(1)*14)+1
106 DX(B)=INT(RND(1)*2)
108 REM DY(B)=INT(RND(1)*2)
109 DY(B)=1
110 NEXT B
120 REM
130 FORY=0TO29:FORX=0TO39
140 Q=Y*256+X*2
150 VPOKE0,Q,81:VPOKE0,Q+1,0
160 NEXTX,Y
200 FOR B=1TON
210 VPOKE0,BY(B)*256+BX(B)*2+1,0
240 IFDX(B)=0THENGOSUB1010
250 IFDX(B)=1THENGOSUB1040
260 IFDY(B)=0THENGOSUB1070
270 IFDY(B)=1THENGOSUB1100
280 VPOKE0,BY(B)*256+BX(B)*2+1,BC(B)
290 NEXTB
300 GOTO 200
1000 REM
1010 IFBX(B)=0THENDX(B)=1:RETURN
1020 BX(B)=BX(B)-1:RETURN
1030 REM
1040 IFBX(B)=39THENBX(B)=38:DX(B)=0:RETURN
1050 BX(B)=BX(B)+1:RETURN
1060 REM
1070 IFBY(B)=0THENDY(B)=1:RETURN
1080 BY(B)=BY(B)-1:RETURN
1090 REM
1100 IFBY(B)=29THENBY(B)=28:DY(B)=0:RETURN
1110 BY(B)=BY(B)+1:RETURN
