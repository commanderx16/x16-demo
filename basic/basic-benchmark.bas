0 REM BASIC-BENCHMARK.BAS BY OLEG-IMANILOV
1 REM UPDATES BY TOM WILSON FOR RAW/ADJUSTED TIME 
9 REM GITHUB.COM/COMMANDERX16/X16-DEMO
10 PRINT CHR$(147);
15 FF=1250: REM NUMBER OF EXECUTIONS TO GET AVERAGE
20 TXT$ = "EMPTY FOR LOOP"
30 T0=TI
40 FOR I=0 TO FF
45 REM
50 NEXT
55 T1 = TI
60 PRINT "--------------------------+------------+------+-----------
62 PRINT "         OPERATION        :   OP/SEC   : TIME : ADJUSTED
64 PRINT "--------------------------+------------+------+-----------
70 GOSUB 32000
75 PRINT "                          :            :      :
80 Z=T1-T0:Z0=Z:REM ZERO TIME
90 IF Z<10 THEN PRINT "WARNING: ZERO TIME IS TOO LOW, INCREASE FF!"
110 TXT$ = "SMALL INT ASSIGNMENT"
120 A = 0
130 T0 = TI
140 FOR I=0 TO FF
150 A = 55
160 NEXT
170 T1=TI
180 GOSUB 32000
190 ZI=TE:REM SAVE FOR LATER (TO REMOVE THIS FROM "ADD SMALL INT")
210 TXT$ = "BIG INT ASSIGNMENT"
220 A = 100000
230 T0 = TI
240 FOR I=0 TO FF
250 A = 100000
260 NEXT
270 T1=TI
280 GOSUB 32000
290 ZL=TE
310 TXT$ = "FLOAT ASSIGNMENT"
320 A = 123.456
330 T0 = TI
340 FOR I=0 TO FF
350 A = 1234.5678
360 NEXT
370 T1=TI
380 GOSUB 32000
390 ZF=TE
410 TXT$ = "SMALL INT ADD"
420 A = 3
430 T0 = TI
440 FOR I=0 TO FF
450 A = 1+1
460 NEXT
470 T1=TI
475 Z=ZI
480 GOSUB 32000
490 Z=Z0
510 TXT$ = "BIG INT ADD"
520 A = 3
530 T0 = TI
540 FOR I=0 TO FF
550 A = 500+700
560 NEXT
570 T1=TI
575 Z=ZL
580 GOSUB 32000
590 Z=Z0
610 TXT$ = "FLOAT ADD"
620 A = 123.456:B=123.456
630 T0 = TI
640 FOR I=0 TO FF
650 A = 12.34+12.34
660 NEXT
670 T1=TI
675 Z=ZF
680 GOSUB 32000
690 Z=Z0
710 TXT$ = "SIN"
720 A = 123.456
730 T0 = TI
740 FOR I=0 TO FF
750 A = SIN(1.23)
760 NEXT
770 T1=TI
780 GOSUB 32000
810 TXT$ = "SMALL NUMBER POWER"
820 A = 10
830 T0 = TI
840 FOR I=0 TO FF
850 A = 2^3
860 NEXT
870 T1=TI
875 Z=ZI
880 GOSUB 32000
31999 END
32000 PRINT TXT$;TAB(26);":";
32010 TE=T1-T0:TA=TE-Z:REM ELAPSED, ADJUSTED TIME
32020 PRINT FF/TA*60;
32030 PRINT TAB(39);":";TE;
32040 PRINT TAB(46);":";TA;
32050 PRINT
32060 RETURN
